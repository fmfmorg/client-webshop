---
import { PUBLIC_FM_PUBLIC_IMAGE_URL_PREFIX } from 'astro:env/client'
import type { IProductImages } from "@components/catalogue-item/interfaces";

type Props = IProductImages & {alt:string}


const { name, ext, alt } = Astro.props as Props
---

<picture>
    {
        [
            '.avif',
            '.webp',
            ext
        ].map(e=>(
            e === ext ?
            <img src={`${PUBLIC_FM_PUBLIC_IMAGE_URL_PREFIX}${name}${e}`} alt={alt} />
            :
            <source srcset={`${PUBLIC_FM_PUBLIC_IMAGE_URL_PREFIX}${name}${e}`} />
        ))
    }
</picture>